# ============================================================================
# 基流分割工作流程配置文件
# ============================================================================
#
# 本文件用于配置 real_world_workflow.py 的运行参数。
# 您可以根据实际需求修改以下配置。
#
# 使用方式:
#   python examples/real_world_workflow.py
#   (脚本会自动读取项目根目录的 config.yml)
#
# ============================================================================

# ----------------------------------------------------------------------------
# 数据配置
# ----------------------------------------------------------------------------
data:
  # 流量数据文件路径(CSV 格式)
  # - 索引: 日期 (或通过 date_column 指定)
  # - 列: 站点ID
  # - 值: 流量 (m³/s 或其他单位)
  flow_file: "data/example.csv"

  # 站点信息文件路径(CSV 格式,可选)
  # - 索引: 站点ID (应与 flow_file 的列名对应)
  # - 推荐列:
  #   - area: 流域面积 (km²), 用于 HYSEP 方法
  #   - lon: 经度, 用于自动冻结期检测
  #   - lat: 纬度, 用于自动冻结期检测
  station_file: null  # 如果没有,设为 null 或删除此行

  # 日期列名称(如果日期不是索引)
  # 例如: "Date", "时间", "datetime"
  # 如果日期已经是索引,设为 null
  date_column: null

# ----------------------------------------------------------------------------
# 方法配置
# ----------------------------------------------------------------------------
methods:
  # 要应用的基流分割方法
  # 可选值:
  #   - "all": 应用所有 12 种方法
  #   - 列表: 选择特定方法,例如:
  #     * 数字滤波法: ["LH", "UKIH", "Chapman", "Eckhardt"]
  #     * HYSEP 图形法: ["Local", "Fixed", "Slide"]
  #     * 参数化方法: ["Boughton", "Furey", "Willems"]
  selected:
    - "LH"
    - "Eckhardt"
    - "Chapman"
    - "UKIH"

  # 自定义参数范围(可选)
  # 用于需要参数标定的方法,可以调整搜索范围和步长
  # 权衡: 更密集的网格 = 更准确的标定,但计算时间更长
  parameter_ranges:
    # Eckhardt 方法的 BFImax 参数
    # 默认: np.arange(0.001, 1.0, 0.001) -> 999 个参数点
    # 调整后: np.arange(0.01, 0.99, 0.01) -> 98 个参数点(约 10 倍加速)
    Eckhardt:
      start: 0.01
      stop: 0.99
      step: 0.01

    # Boughton 方法的 C 参数(如果使用)
    # Boughton:
    #   start: 0.0001
    #   stop: 0.1
    #   step: 0.001

    # Furey 方法的 A 参数(如果使用)
    # Furey:
    #   start: 0.1
    #   stop: 10
    #   step: 0.1

# ----------------------------------------------------------------------------
# 输出配置
# ----------------------------------------------------------------------------
output:
  # 输出目录路径
  directory: "outputs/real_world_workflow"

  # 是否保存基流时间序列 CSV 文件
  # (每种方法一个文件,保存到 directory/baseflow_timeseries/)
  save_timeseries: true

  # 是否保存性能指标 (BFI, KGE)
  # (保存到 directory/metrics/)
  save_metrics: true

  # 是否生成 Markdown 格式的摘要报告
  # (保存为 directory/REPORT.md)
  generate_report: true

  # 是否生成可视化图表
  # (保存到 directory/plots/)
  generate_plots: true

# ----------------------------------------------------------------------------
# 处理选项
# ----------------------------------------------------------------------------
processing:
  # 是否计算基流指数 (BFI)
  # BFI = 基流总量 / 总流量
  # 用于评估长期平均基流贡献
  return_bfi: true

  # 是否计算 Kling-Gupta Efficiency (KGE)
  # KGE 是一个综合性能指标,评估分割结果的质量
  # 范围: -∞ 到 1 (越接近 1 越好)
  #   > 0.75: 优秀
  #   > 0.50: 良好
  #   < 0.00: 差于均值模型
  return_kge: true

# ============================================================================
# 高级配置(通常不需要修改)
# ============================================================================

# 冻结期配置(全局,可选)
# 如果未提供站点坐标,可以手动指定冻结期
# 格式: [开始月, 开始日, 结束月, 结束日]
# 例如: 11月1日 至 3月31日
# ice_period: [11, 1, 3, 31]

# 并行处理(未来功能)
# parallel:
#   enabled: false
#   n_workers: 4
